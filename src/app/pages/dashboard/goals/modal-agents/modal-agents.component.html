<div class="container-fluid p-0 overflow-hidden">
    <div class="modal-header d-flex justify-content-end">
        <mat-icon class="cursos-pointer" svgIcon="mat_outline:cancel" (click)="closeModal()"></mat-icon>
    </div>

    <div class="row d-flex">
        <div class="col-12 contenedor-scroll-tabla">
            <table mat-table #table [dataSource]="dataSource" class="w-100 tabla-personalizada-default-white">
                <caption></caption>

                <ng-container matColumnDef="agent">
                    <th mat-header-cell *matHeaderCellDef>Agente</th>
                    <td mat-cell *matCellDef="let element">
                        <div class="d-flex flex-column table-column-img text-center">
                            <img src="../../../../assets/images/icono-user.png" alt="">
                            {{ element.agent }}
                        </div>
                    </td>
                </ng-container>

                <ng-container matColumnDef="progress">
                    <th mat-header-cell *matHeaderCellDef>Progreso en campaña</th>
                    <td mat-cell *matCellDef="let element">
                        <div class="my-8 space-y-8">
                            <div class="flex flex-col">
                                <div class="flex items-center">
                                  
                                    <div class="flex-auto leading-none">
                                        <div class="flex items-end justify-content-center min-w-18 mt-auto">
                                            <div class="text-lg leading-none">80%</div>
                                        </div>
                                        <mat-progress-bar class="mt-3 rounded-full" [color]="'success'" style="width: 100px;"
                                            [mode]="'determinate'"
                                            [value]="(element.progress.expenses  * 100) / element.progress.expensesLimit">
                                        </mat-progress-bar>
                                    </div>
                                 
                                </div>
                            </div>
                        </div>
                    </td>
                </ng-container>

                <ng-container matColumnDef="rol">
                    <th mat-header-cell *matHeaderCellDef>Rol</th>
                    <td mat-cell *matCellDef="let element">
                        <div class="d-flex flex-column text-center">
                            <span class="font-bold mb-1">{{ element?.isMain || ''}}</span>
                            {{ element.rol }}
                        </div>
                    </td>
                </ng-container>

                <ng-container matColumnDef="ip">
                    <th mat-header-cell *matHeaderCellDef>Identificador de voz IP</th>
                    <td mat-cell *matCellDef="let element" class="text-center">
                        {{ element.ip }}
                    </td>
                </ng-container>

                <ng-container matColumnDef="extension">
                    <th mat-header-cell *matHeaderCellDef>Extensión</th>
                    <td mat-cell *matCellDef="let element" class="text-center">
                        {{ element.extension }}
                    </td>
                </ng-container>

                <tr *matNoDataRow>
                    <td class="mat-cell" [attr.colspan]="displayedColumns.length">
                        <h5 class="text-center my-5">No se encontraron resultados.</h5>
                    </td>
                </tr>
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
            </table>
        </div>
    </div>
</div>