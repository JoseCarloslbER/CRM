<div class="container-fluid p-0 overflow-hidden c-moda-info ">
    <div class="modal-header d-flex justify-content-end">
        <mat-icon class="cursos-pointer" svgIcon="mat_outline:cancel" (click)="closeModal()"></mat-icon>
    </div>

    <div class="row d-flex">
        <div class="col-12 table-container">
            <table mat-table #table [dataSource]="dataSource" *ngIf="data.type == 'agents'"
                class="w-100 tabla-personalizada-default-white">
                <caption></caption>

                <ng-container matColumnDef="agent">
                    <th mat-header-cell *matHeaderCellDef>Agente</th>
                    <td mat-cell *matCellDef="let element">
                        <div class="d-flex flex-column table-column-img text-center">
                            <img [src]="element.agent.img" alt="">
                            <span class="text-line-bottom">
                                {{ element?.agent?.name || '-' }}
                            </span>
                        </div>
                    </td>
                </ng-container>

                <ng-container matColumnDef="rol">
                    <th mat-header-cell *matHeaderCellDef>Rol</th>
                    <td mat-cell *matCellDef="let element">
                        <div class="d-flex flex-column text-center">
                            <span class="font-bold mb-1">{{ element.rol.main ? 'Agente principal' : '' }}</span>
                            {{ element?.rol?.rol || '-' }}
                        </div>
                    </td>
                </ng-container>

                <ng-container matColumnDef="voice_identifier">
                    <th mat-header-cell *matHeaderCellDef>Identificador de voz IP</th>
                    <td mat-cell *matCellDef="let element" class="text-center">
                        {{ element?.voice_identifier || '-' }}
                    </td>
                </ng-container>

                <tr *matNoDataRow>
                    <td class="mat-cell" [attr.colspan]="displayedColumns.length">
                        <h5 class="text-center my-5">No se encontraron resultados.</h5>
                    </td>
                </tr>
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
            </table>

            <table mat-table #table [dataSource]="dataSource" class="w-100 tabla-personalizada-default-white"
                *ngIf="data.type == 'companies'">
                <caption></caption>

                <ng-container matColumnDef="company">
                    <th mat-header-cell *matHeaderCellDef>Empresa</th>
                    <td mat-cell *matCellDef="let element">
                        <div class="d-flex flex-column table-column-img text-center">
                            <img [src]="element.companyMain.img" alt="">
                            <span class="text-line-bottom cursor-pointer"
                                (click)="seeData(element?.company?.company_id)">
                                {{ element?.companyMain?.name || '-' }}
                            </span>
                        </div>
                    </td>
                </ng-container>

                <ng-container matColumnDef="contact">
                    <th mat-header-cell *matHeaderCellDef>Contacto</th>
                    <td mat-cell *matCellDef="let element">
                        <div class="table-column-contact">
                            <div>
                                <mat-icon class="icon-size-6" matSuffix [svgIcon]="'heroicons_outline:user'"></mat-icon>
                                <span> {{ element?.contact?.name || '' }} </span>
                            </div>
                            <div>
                                <mat-icon class="icon-size-6" matSuffix [svgIcon]="'mat_outline:mail'"></mat-icon>
                                <span> {{ element?.contact?.email || '-' }} </span>
                            </div>
                            <div>
                                <mat-icon class="icon-size-6" matSuffix [svgIcon]="'mat_outline:phone'"></mat-icon>
                                <span> {{ element?.contact?.phone || '-' }} </span>
                            </div>
                            <div>
                                <mat-icon class="icon-size-6" matSuffix
                                    [svgIcon]="'mat_outline:phone_android'"></mat-icon>
                                <span> {{ element?.contact?.movil || '-' }} </span>
                            </div>
                        </div>
                    </td>
                </ng-container>

                <ng-container matColumnDef="quoteNumber">
                    <th mat-header-cell *matHeaderCellDef># Cot.</th>
                    <td mat-cell *matCellDef="let element">
                        <div class="table-column-contact">
                            {{ element.quoteNumber }}
                        </div>
                    </td>
                </ng-container>

                <ng-container matColumnDef="companyPhase">
                    <th mat-header-cell *matHeaderCellDef>Estatus</th>
                    <td mat-cell *matCellDef="let element">
                        <div class="table-column-lead modal-lead">
                            {{ element.companyPhase }}
                        </div>
                    </td>
                </ng-container>

                <tr *matNoDataRow>
                    <td class="mat-cell" [attr.colspan]="displayedColumns.length">
                        <h5 class="text-center my-5">No se encontraron resultados.</h5>
                    </td>
                </tr>
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
            </table>
        </div>
    </div>
</div>